<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <link rel="shortcut icon" href="./res/favicon.svg"/>
  <link rel="stylesheet" href="./res/tab.css" />
  <script src="../packages/favorite-icon-emoji/dist/index.js"></script>
  <link rel="stylesheet" href="./res/common.css" />
  <script src="./res/common.js"></script>
  <style>
    input {
      vertical-align: middle;
    }
  </style>
  <title>Favorite Icon Emoji</title>
</head>
<body>
  <div class="tab">
    <div class="tab__favicon"><img src="about:blank" id="preview" /></div>
    <div class="tab__text">Tab text</div>
  </div>

  <p>
    <input type="button" value="üòÄ" onclick="updateFavicon(this.value)" />
    <input type="button" value="ü¶ä" onclick="updateFavicon(this.value)" />
    <input type="button" value="üëå" onclick="updateFavicon(this.value)" />
    <input type="button" value="üî•" onclick="updateFavicon(this.value)" />
    <input type="button" value="üåπ" onclick="updateFavicon(this.value)" />
    <input type="button" value="1" onclick="updateFavicon(this.value)" />
  </p>

  <div>
    Symbol: <input id="symbol" size="2" value="‚ù§Ô∏è" oninput="updateFavicon()" /><br/>
    Color: <input id="color" type="color" value="#ffffff" oninput="updateFavicon()" />
  </div>

  <script>
    function updateFavicon(value) {
      const color = document.querySelector('#color').value;
      const symbol = value || document.querySelector('#symbol').value;
      
      if (value) {
        document.querySelector('#symbol').value = value;
      }

      FaviconEmoji.set(symbol, {
        color,
        size: 64,
        links: [
          document.querySelector('#preview')
        ]
      });

      FaviconEmoji.set(symbol, { color });
    }

    updateFavicon('‚ù§Ô∏è');
  </script>
</body>
</html>
